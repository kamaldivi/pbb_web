/var/log/nginx/*.log {
    daily
    rotate 30
    missingok
    notifempty
    compress
    delaycompress
    sharedscripts
    copytruncate
    postrotate
        # Signal nginx to reopen log files after rotation
        # This ensures nginx starts writing to new log files
        docker exec nginx-ssl-prod nginx -s reopen 2>/dev/null || true
    endscript
}
